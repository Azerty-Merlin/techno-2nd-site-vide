<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8" />
    <title>The Void</title>
    <link rel="icon" href="../img/black-hole.png" />
    <meta name="viewport" content="initial-scale=1, width=device-width" />

    <!-- Fonts to support Material Design -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
    <!-- Icons to support Material Design -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <script type="importmap">
        {
          "imports": {
            "react": "https://esm.sh/react@latest",
            "react-dom": "https://esm.sh/react-dom@latest",
            "react/jsx-runtime": "https://esm.sh/react@latest/jsx-runtime",
            "@mui/material": "https://esm.sh/@mui/material@latest?external=react",
            "@mui/icons-material": "https://esm.sh/@mui/icons-material@latest?external=react"
          }
        }
      </script>

    <link rel="stylesheet" href="../css/topbar.css" />
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="stylesheet" href="../css/title.css" />
    <link rel="stylesheet" href="../css/popup.css" />
    <link rel="stylesheet" href="../css/bottombar.css" />
    <link rel="stylesheet" href="../css/button.css" />

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
</head>

<body id="dark-theme" class="color">
    <div id="main" class="desktop">
        <!-- popup vide -->
        <div class="popup_background popup_vide_background" onclick="hide_popup('popup_vide')"></div>
        <div class="popup_content popup_vide_content">
            <img class="popup_background_img" src="../img/vide.webp">
            <div class="popup_crose" onclick="hide_popup('popup_vide')">
                <svg style="fill: currentcolor;">
                    <g id="Navbar-icon-close">
                        <path
                            d="M47.949,50.625c-0.64,0-1.28-0.244-1.768-0.732L14.635,18.346c-0.977-0.976-0.977-2.559,0-3.535    c0.976-0.977,2.56-0.977,3.535,0l31.546,31.547c0.977,0.976,0.977,2.559,0,3.535C49.229,50.381,48.589,50.625,47.949,50.625z">
                        </path>
                        <path
                            d="M16.051,50.273c-0.64,0-1.28-0.244-1.768-0.732c-0.977-0.976-0.977-2.559,0-3.535l31.898-31.898    c0.976-0.977,2.56-0.977,3.535,0c0.977,0.976,0.977,2.559,0,3.535L17.818,49.541C17.331,50.029,16.69,50.273,16.051,50.273z">
                        </path>
                    </g>
                </svg>
            </div>
            <h1 class="popup_title">Vide</h1>
            <a href="./main_vide.html">
                <button class="button-84" role="button"
                    style="top: 50%; left: 50%; position: absolute; transform: translate(-50%, -50%);">Voir du vide ?
                </button>
            </a>
        </div>
        <!-- fin du popup vide -->

        <!-- popup troll -->
        <div class="popup_background popup_troll_background" onclick="hide_popup('popup_troll')"></div>
        <div class="popup_content popup_troll_content">
            <div class="popup_background_img"></div>
            <div class="popup_crose" onclick="hide_popup('popup_troll')">
                <svg style="fill: currentcolor;">
                    <g id="Navbar-icon-close">
                        <path
                            d="M47.949,50.625c-0.64,0-1.28-0.244-1.768-0.732L14.635,18.346c-0.977-0.976-0.977-2.559,0-3.535    c0.976-0.977,2.56-0.977,3.535,0l31.546,31.547c0.977,0.976,0.977,2.559,0,3.535C49.229,50.381,48.589,50.625,47.949,50.625z">
                        </path>
                        <path
                            d="M16.051,50.273c-0.64,0-1.28-0.244-1.768-0.732c-0.977-0.976-0.977-2.559,0-3.535l31.898-31.898    c0.976-0.977,2.56-0.977,3.535,0c0.977,0.976,0.977,2.559,0,3.535L17.818,49.541C17.331,50.029,16.69,50.273,16.051,50.273z">
                        </path>
                    </g>
                </svg>
            </div>
            <h1 class="popup_title">Plus de vide</h1>
            <center>
                <form onsubmit="event.preventDefault(); document.getElementById('troll').style.display = 'block'; " role="search" class="search" style="text-align: left;">
                    <label for="search">Search for stuff</label>
                    <input id="search" type="search" placeholder="Search..." autofocus required />
                    <button type="submit">Go</button>
                </form>
                <br>
                <br>
                <span id="troll" style="display: none;">
                    <h1>Et bah non il n'y a rien. Ce site est vide aprés tout.</h1>
                </span>
            </center>
        </div>
        <!-- fin du popup troll -->

        <div class='background'></div>
        <div class="topbar">
            <a href="./home.html">
                <div class="topbar_title">
                    <img src="../img/black-hole.png" class="topbar_title_img">
                    Void
                </div>
            </a>
            <a href="./home.html">
                <div class="topbar_item">Home </div>
            </a>
            <div class="topbar_item" onclick="show_popup('popup_vide')">Du vide ?</div>
            <div class="topbar_item" style="position: absolute; right: 0; padding: 0;">
                <button class="settings-button" onclick="toggle_theme()">
                    <svg class="settings-icon">
                        <path id="toggle_theme_icon"
                            d="M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4">
                        </path>
                    </svg>
                </button>
            </div>
        </div>

        <div class="content">
            <!-- Title -->
            <div class="Section Work h2blue h1under"
                style="opacity: 1; transform: translate(0px);margin: 0; margin-bottom: 2cm;">
                <div class="Work-content">
                    <div>
                        <h3>
                            <span class="gg-symbol--gradient"
                                style="background: linear-gradient(90deg, rgb(100, 145, 214) 0%, rgb(67, 240, 199) 100%);"></span>
                            Bienvenue dans quelque chose.
                        </h3>
                        <div class="chose-list">
                            <h2>Info</h2>
                            <p class="home_text" id='p1'></p>
                            <p class="home_text" id='p2'></p>

                            <h2>Voici une carte OpenStreetMap intégrée</h2>
                            <div id="map" style="width: cacl(100vw - 2cm); height: calc(95vh - 2cm); overflow: hidden; margin-bottom: 3cm;">
                            </div>

                            <button class="bn32" style="float: right;" onclick="show_popup('popup_troll')">
                                <span class="bn32span">Voir plus de chose ?</span>
                            </button>
                        </div>
                    </div>
                    <div class="Arrow" data-ref="arrow" style="transform: translate(0px); opacity: 1;"></div>
                </div>
            </div>
            <!-- fin du title -->

            <!-- footer -->
            <div style="flex-grow: 1;"></div>
            <div class="bottombar">
                <strong>
                    <h3>© Copyright: 2024 Void.</h3>
                </strong>
                <span class="copyright">
                    <strong>Droits réservés… ou pas ?</strong> Ce site est tellement vide que même les cookies n’ont
                    rien à
                    grignoter.
                    Mais bon, si
                    vous trouvez quelque chose d’intéressant, faites comme chez vous. Juste, n’oubliez pas de fermer la
                    porte en
                    sortant.
                </span>
                <div class="link">
                    <a href="./politique.html">Politique de confidentialité</a>
                    <a href="./rgpd.html">RGPD</a>
                    <a href="./Cookies.html">Cookie</a>
                    <a href="./contact.html">Contact et liens</a>
                    <a href="./apropos.html">A props</a>
                    <a href="./concept.html">Concept</a>
                    <a href="../end.html">Finir la visite ?</a>
                </div>
            </div>
            <!-- fin du footer -->

        </div>
    </div>
    <div class="phone">
        <h1>Veuillez regarder mon site sur un ecran plus grand</h1>
    </div>
</body>
<script>
    function show_popup(className) {
        const popups = document.querySelectorAll('.' + className + "_content");
        const backgrounds = document.querySelectorAll('.' + className + "_background");

        popups.forEach(popup => {
            popup.style.left = '20vw';
        });

        backgrounds.forEach(background => {
            background.style.display = 'block';
        });
    }

    function hide_popup(className) {
        const popups = document.querySelectorAll('.' + className + "_content");
        const backgrounds = document.querySelectorAll('.' + className + "_background");

        popups.forEach(popup => {
            popup.style.left = '-100vw';
        });

        backgrounds.forEach(background => {
            background.style.display = 'none';
        });
    }
</script>
<script>
    // Fonction pour appliquer le thème basé sur le localStorage
    function applyTheme() {
        const savedTheme = localStorage.getItem('theme');
        const themeIcon = document.getElementById('toggle_theme_icon');

        if (savedTheme === 'dark-theme') {
            document.body.id = 'dark-theme';
            themeIcon.setAttribute('d', 'M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6m0-10c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4');

        } else if (savedTheme === "light-theme") {
            document.body.id = 'light-theme';
            themeIcon.setAttribute('d', 'M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6');

        }
    }

    // Fonction pour basculer entre les thèmes
    function toggle_theme() {

        const savedTheme = localStorage.getItem('theme');

        if (savedTheme === 'dark-theme') {
            localStorage.setItem('theme', 'light-theme');

        } else if (savedTheme === "light-theme") {
            localStorage.setItem('theme', 'dark-theme');
        } else {
            localStorage.setItem('theme', 'light-theme');
        }
        applyTheme();

    }

    function coordonnees(pos) {
        let crd = pos.coords;

        let latitude = crd.latitude;
        let longitude = crd.longitude;

        document.getElementById('p2').innerHTML =
            'Latitude : ' + latitude +
            '<br>Longitude : ' + longitude;
    }

    window.onload = () => {
        applyTheme();

        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                coordonnees(position);
                const latitude = position.coords.latitude;
                const longitude = position.coords.longitude;

                // Créer la carte
                const map = L.map('map').setView([latitude, longitude], 15); // Zoom de 15

                // Ajouter une couche OpenStreetMap
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);

                // Ajouter un marqueur à la position de l'utilisateur
                L.marker([latitude, longitude]).addTo(map)
                    .bindPopup("Vous êtes ici")
                    .openPopup();

            }, function () {
                alert("Impossible de récupérer la position de l'utilisateur.");
            });
        } else {
            alert("La géolocalisation n'est pas supportée par votre navigateur.");
        }
    }

    document.getElementById('p1').innerHTML =
        'Langue du navigateur : ' + navigator.language +
        '<br>Cookies autorisés : ' + navigator.cookieEnabled +
        '<br>Plateforme utilisée : ' + navigator.platform +
        '<br>Ram : ' + navigator.deviceMemory +
        "<br>En ligne: " + (navigator.onLine ? "Oui" : "Non");
</script>

<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

</html>