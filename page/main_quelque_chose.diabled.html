<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>The Void, Chose</title>
    <link rel="icon" href="../img/black-hole.png">
    <meta name="viewport" content="initial-scale=1, width=device-width">

    <link rel="stylesheet" href="../css/css.css">

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
</head>

<body id="dark-theme" class="color">
    <div id="main" class="desktop">

        <!-- popup troll -->
        <div class="popup_background popup_troll_background" onclick="hide_popup('popup_troll')"></div>
        <div class="popup_content popup_troll_content">
            <div class="popup_crose" onclick="hide_popup('popup_troll')">
                <svg style="fill: currentcolor;">
                    <g>
                        <path
                            d="M47.949,50.625c-0.64,0-1.28-0.244-1.768-0.732L14.635,18.346c-0.977-0.976-0.977-2.559,0-3.535    c0.976-0.977,2.56-0.977,3.535,0l31.546,31.547c0.977,0.976,0.977,2.559,0,3.535C49.229,50.381,48.589,50.625,47.949,50.625z">
                        </path>
                        <path
                            d="M16.051,50.273c-0.64,0-1.28-0.244-1.768-0.732c-0.977-0.976-0.977-2.559,0-3.535l31.898-31.898    c0.976-0.977,2.56-0.977,3.535,0c0.977,0.976,0.977,2.559,0,3.535L17.818,49.541C17.331,50.029,16.69,50.273,16.051,50.273z">
                        </path>
                    </g>
                </svg>
            </div>
            <h1 class="popup_title">Plus de vide</h1>
            <center>
                <form onsubmit="event.preventDefault(); document.getElementById('troll').style.display = 'block'; "
                    role="search" class="search" style="text-align: left;">
                    <label for="search">Search for stuff</label>
                    <input id="search" type="search" placeholder="Search..." autofocus required>
                    <button type="submit">Go</button>
                </form>
                <br>
                <br>
                <div id="troll" style="display: none;">
                    <h1>Et bah non il n'y a rien. Ce site est vide aprés tout.</h1>
                </div>
            </center>
        </div>
        <!-- fin du troll popup -->

        <div class='background'></div>
        <div id="content">

            <!-- infos -->
            <div class="Section">
                <div class="Section-content hstyle">
                    <h3 class="Section-title">
                        <span class="gradient-blue"></span>
                        Bienvenue dans quelque chose.
                    </h3>
                    <h2>Info</h2>
                    <p class="home_text" id='p1'></p>
                    <p class="home_text" id='p2'></p>

                    <h2>Voici une carte OpenStreetMap intégrée</h2>
                    <div id="map"
                        style="width: calc(100vw - 4cm); height: calc(95vh - 2cm); overflow: hidden; margin-bottom: 3cm;">
                    </div>

                    <button class="button-next" onclick="show_popup('popup_troll')">
                        <span class="button-next-span">Voir plus de chose ?</span>
                    </button>

                    <div class="Arrow"></div>
                </div>
            </div>
            <!-- fin des infos -->

        </div>
    </div>

    <script>
        function coordonnees(pos) {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {

                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;

                    document.getElementById('p2').innerHTML =
                        'Latitude : ' + latitude +
                        '<br>Longitude : ' + longitude;

                    // Créer la carte
                    const map = L.map('map').setView([latitude, longitude], 15); // Zoom de 15

                    // Ajouter une couche OpenStreetMap
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                    }).addTo(map);

                    // Ajouter un marqueur à la position de l'utilisateur
                    L.marker([latitude, longitude]).addTo(map)
                        .bindPopup("Vous êtes ici")
                        .openPopup();

                }, function () {
                    alert("Impossible de récupérer la position de l'utilisateur.");
                });
            } else {
                alert("La géolocalisation n'est pas supportée par votre navigateur.");
            }
        }
    </script>
    <script src="../js/topbar.js"></script>
    <script src="../js/popup.js"></script>
    <script src="../js/theme.js"></script>
    <script src="../js/scroll.js"></script>
    <script src="../js/phone.js"></script>
    <script src="../js/bottombar.js"></script>

    <script>
        window.onload = (
            add_popup_vide(),
            add_topbar({
                home: true,
                vide: true,
                chose: false
            }),
            applyTheme(),
            add_phone(),
            add_scroll_button(),
            add_bottombar(),
            coordonnees()
        );
    </script>
</body>

</html>